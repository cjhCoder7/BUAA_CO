## P1 è¯¾ä¸‹æ„Ÿæƒ³â˜¹ï¸

### è®¾è®¡è‰ç¨¿

#### NPC

ç«¯å£å®šä¹‰

| ä¿¡å·å      | æ–¹å‘ | æè¿°                                         |
| ----------- | ---- | -------------------------------------------- |
| PC[31:0]    | I    | å½“å‰æŒ‡ä»¤çš„åœ°å€                               |
| Imm16[15:0] | I    | beqï¼š16ä½åç§»ï¼ˆ`sw`æˆ–`lw`æŒ‡ä»¤ï¼‰              |
| Imm26[25:0] | I    | jalï¼š26ä½åç§»ï¼ˆ`j`æˆ–`jal`æŒ‡ä»¤ï¼‰              |
| RA32[31:0]  | I    | jrï¼š`$ra`å¯„å­˜å™¨ä¿å­˜çš„32ä½ç›®æ ‡åœ°å€            |
| NPCop[1:0]  | I    | NPCè®¡ç®—æ¨¡å¼çš„æ§åˆ¶ç                           |
| Zero        | I    | `rs`ä¸`rt`ç›¸ç­‰çš„æ¯”è¾ƒç»“æœï¼›1ï¼šç›¸ç­‰ï¼›0ï¼šä¸ç›¸ç­‰ |
| NPC[31:0]   | O    | ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€                             |
| PC4[31:0]   | O    | å½“å‰æŒ‡ä»¤åŠ 4çš„åœ°å€                            |

**NPCop é€‰æ‹©å™¨**

| NPCop | åŠŸèƒ½                         |
| ----- | ---------------------------- |
| 00    | PC + 4                       |
| 01    | PC + 4 + sign_ext(Imm16 * 4) |
| 10    | PC + 4 + sign_ext(Imm26 * 4) |
| 11    | `$ra` å¯„å­˜å™¨ä¸­å­˜å‚¨çš„åœ°å€     |

NPC é‡Œéœ€è¦ä¿è¯**åç§»é‡éƒ½æ˜¯ 4 çš„å€æ•°**ï¼Œè¿™æ ·æ‰å¯ä»¥ç›´æ¥å¿½ç•¥æœ€ä½ä¸¤ä½ï¼Œå–å‡ºç›¸é‚»çš„æŒ‡ä»¤

#### IM

ç«¯å£å®šä¹‰

| ä¿¡å·å            | æ–¹å‘ | æè¿°       |
| ----------------- | ---- | ---------- |
| PC[31:0]          | I    | æŒ‡ä»¤çš„åœ°å€ |
| Instruction[31:0] | O    | å–å‡ºçš„æŒ‡ä»¤ |

#### EXT

ç«¯å£å®šä¹‰

| ä¿¡å·å      | æ–¹å‘ | æè¿°                   |
| ----------- | ---- | ---------------------- |
| Imm16[15:0] | I    | 16ä½æ•°                 |
| EXTop       | I    | 0ï¼šé›¶æ‰©å±•ï¼›1ï¼šç¬¦å·æ‰©å±• |
| 32bit[31:0] | O    | æ‰©å±•åçš„32ä½æ•°         |

#### RF

ç«¯å£å®šä¹‰

| ä¿¡å·å    | æ–¹å‘ | æè¿°                                                         |
| --------- | ---- | ------------------------------------------------------------ |
| A1[4:0]   | I    | 5ä½å¯„å­˜å™¨åœ°å€è¾“å…¥ä¿¡å·ï¼Œå°†å…¶å‚¨å­˜çš„æ•°æ®è¯»å‡ºåˆ° RD1ï¼ˆ`rs`é‡Œé¢çš„å€¼ï¼‰ |
| A2[4:0]   | I    | 5ä½å¯„å­˜å™¨åœ°å€è¾“å…¥ä¿¡å·ï¼Œå°†å…¶å‚¨å­˜çš„æ•°æ®è¯»å‡ºåˆ° RD2ï¼ˆ`rt`é‡Œé¢çš„å€¼ï¼‰ |
| A3[4:0]   | I    | 5ä½å¯„å­˜å™¨åœ°å€è¾“å…¥ä¿¡å·ï¼Œå°†å…¶ä½œä¸ºå†™å…¥æ•°æ®çš„ç›®æ ‡å¯„å­˜å™¨ï¼ˆ`rd`å¯„å­˜å™¨ï¼‰ |
| WD[31:0]  | I    | è¦å†™å…¥çš„32ä½æ•°æ®                                             |
| RFWr      | I    | å¯„å­˜å™¨å †å†™ä½¿èƒ½ä¿¡å·ï¼š1ï¼šå†™ä½¿èƒ½ä¿¡å·æœ‰æ•ˆï¼›0ï¼šå†™ä½¿èƒ½ä¿¡å·æ— æ•ˆ     |
| Clk       | I    | æ—¶é’Ÿä¿¡å·                                                     |
| Reset     | I    | å¼‚æ­¥å¤ä½ä¿¡å·ï¼š1ï¼šå¤ä½ä¿¡å·æœ‰æ•ˆï¼›0ï¼šå¤ä½ä¿¡å·æ— æ•ˆ               |
| RD1[31:0] | O    | è¾“å‡ºA1æŒ‡å®šçš„å¯„å­˜å™¨ä¸­çš„32ä½æ•°æ®                               |
| RD2[31:0] | O    | è¾“å‡ºA2æŒ‡å®šçš„å¯„å­˜å™¨ä¸­çš„32ä½æ•°æ®                               |

#### ALU

ç«¯å£å®šä¹‰

| ä¿¡å·å        | æ–¹å‘ | æè¿°               |
| ------------- | ---- | ------------------ |
| A[31:0]       | I    | 32ä½è¾“å…¥A          |
| B[31:0]       | I    | 32ä½è¾“å…¥B          |
| C[31:0]       | I    | 32ä½è¾“å‡ºC          |
| ALUop[3:0]    | I    | è¿ç®—æ§åˆ¶ä¿¡å·       |
| Zero          | O    | A = Bï¼š1ï¼›å¦åˆ™ä¸º0  |
| Less          | O    | A < Bï¼š1ï¼›å¦åˆ™ä¸º0  |
| Less or Equal | O    | A <= Bï¼š1ï¼›å¦åˆ™ä¸º0 |

**ALUopè¯´æ˜**

| ä¿¡å·å€¼  | åŠŸèƒ½                               |
| ------- | ---------------------------------- |
| 4'b0000 | A + B                              |
| 4'b0001 | A - B                              |
| 4'b0010 | A \| B                             |
| 4'b0011 | A & B                              |
| 4'b0100 | lui æŒ‡ä»¤                           |
| 4â€˜b0101 | ç®—æ•°å·¦ç§»/é€»è¾‘å·¦ç§»                  |
| 4'b0110 | ç®—æ•°å³ç§»ï¼ˆå·¦è¾¹æ·»åŠ çš„æ•°å’Œç¬¦å·æœ‰å…³ï¼‰ |
| 4'b0111 | é€»è¾‘å³ç§»ï¼ˆå·¦è¾¹ç»Ÿä¸€æ·»0ï¼‰            |

#### DM

ç«¯å£å®šä¹‰

| ä¿¡å·å   | æ–¹å‘ | æè¿°                                                 |
| -------- | ---- | ---------------------------------------------------- |
| A[31:0]  | I    | å†…å­˜ä¸­çš„åœ°å€ä¿¡å·                                     |
| WD[31:0] | I    | åœ¨å†…å­˜å†™ä½¿èƒ½ä¿¡å·æœ‰æ•ˆæ—¶ï¼Œå†™å…¥å†…å­˜åœ°å€çš„æ•°æ®           |
| DMWr     | I    | å†…å­˜å†™ä½¿èƒ½ä¿¡å·ï¼š1ï¼šå†™ä½¿èƒ½ä¿¡å·æœ‰æ•ˆï¼›0ï¼šå†™ä½¿èƒ½ä¿¡å·æ— æ•ˆ |
| Clk      | I    | æ—¶é’Ÿä¿¡å·                                             |
| Reset    | I    | å¼‚æ­¥å¤ä½ä¿¡å·ï¼š1ï¼šå¤ä½ä¿¡å·æœ‰æ•ˆï¼›0ï¼šå¤ä½ä¿¡å·æ— æ•ˆ       |
| RD[31:0] | O    | è¾“å‡ºå†…å­˜ä¸­å¯¹åº”åœ°å€çš„æ•°æ®                             |

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“åªæ˜¯å®ç° `lw` å’Œ `sw` è¿™ä¸¤æ¡æŒ‡ä»¤çš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯**å†…å­˜çš„åœ°å€æ˜¯ 4 çš„å€æ•°**ï¼Œæ‰€ä»¥ç®€å•ä¸€ç‚¹å°±å¯ä»¥ç›´æ¥å¿½ç•¥åœ°å€ä¸­æœ€ä½çš„ä¸¤ä½ã€‚

ä½†æ˜¯å¦‚æœæ˜¯å®ç° `lb` `sb` `lh` `sh` è¿™äº›æŒ‡ä»¤çš„æ—¶å€™æ˜¯ä¸éœ€è¦ä¿è¯å†…å­˜æ˜¯ 4 çš„å€æ•°ï¼Œæ‰€ä»¥å°±éœ€è¦åŠ å…¥ä¸€ä¸ªæŒ‡ä»¤é€‰æ‹©ä¿¡å·ï¼Œæ¥ç¡®å®šè¯¥å¦‚ä½•åœ¨RAMé‡Œé¢å­˜å‚¨

#### Control

| ç«¯å£  | add  | sub  | ori  | lw   | sw   | beq  | lui  | nop  |
| ----- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| NPCop | 00   | 00   | 00   | 00   | 00   | 01   | 00   | xx   |
| WRsel | 1    | 1    | 0    | 0    | x    | x    | 0    | x    |
| EXTop | x    | x    | 0    | 1    | 1    | x    | 0    | x    |
| WDsel | 00   | 00   | 00   | 01   | xx   | xx   | 00   | xx   |
| RFWr  | 1    | 1    | 1    | 1    | 0    | 0    | 1    | x    |
| Bsel  | 0    | 0    | 1    | 1    | 1    | 0    | 1    | x    |
| ALUop | 0000 | 0001 | 0010 | 0000 | 0000 | 0001 | 0100 | xxxx |
| DMWr  | 0    | 0    | 0    | 0    | 1    | 0    | 0    | x    |

### æµ‹è¯•æ–¹æ¡ˆ

å¯¹äºlogisimå®ç°çš„å•å‘¨æœŸCPUæµ‹è¯•ï¼Œæˆ‘é‡‡ç”¨çš„ä¸»è¦è¿˜æ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ–¹å¼ï¼Œç„¶åå’Œå…¶ä»–åŒå­¦è¿›è¡Œå¯¹æ‹éªŒè¯

#### MIPSæŒ‡ä»¤æ•°æ®çš„æ„é€ 

ä½¿ç”¨pythonå®Œæˆï¼Œå¤§è‡´æ€è·¯æ˜¯ä½¿ç”¨<u>ä¸¤ä¸ªæ•°ç»„æ¥æ¨¡æ‹Ÿå¯„å­˜å™¨å †å’Œå†…å­˜å †</u>ï¼Œç¡®ä¿åœ¨éšæœºç”ŸæˆæŒ‡ä»¤çš„æ—¶å€™ä¸ä¼šå‡ºç°æº¢å‡ºç­‰é”™è¯¯ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯åœ¨ç”Ÿæˆ`lw`å’Œ`sw`æŒ‡ä»¤çš„æ—¶å€™ï¼Œ**éœ€è¦ä¿è¯å†…å­˜çš„åœ°å€ä¸€å®šè¦æ˜¯ 4 çš„å€æ•°**ï¼Œå¦åˆ™ä¼šé€ æˆæ— æ³•å¯¹é½çš„é”™è¯¯ï¼ğŸ¥°ğŸ¥°

å¦å¤–ï¼Œå¯„å­˜å™¨æœ€å¥½å¼€å§‹ä¹Ÿè¦ç”¨ `ori` æŒ‡ä»¤è¿›è¡Œ<u>åˆå§‹åŒ–</u>ï¼Œä¸ç„¶å¯èƒ½ä¼šäº§ç”Ÿä¸€ç›´åœ¨ 0 ä¸ 0 ä¹‹é—´åŠ å‡çš„æ— æ•ˆæŒ‡ä»¤

> å¯¹äºè¾¹ç•Œæµ‹è¯•ç‚¹ï¼Œæˆ‘çš„åšæ³•æ˜¯è®¾è®¡æ¦‚ç‡ï¼Œä¸€åŠçš„æ¦‚ç‡è®¾è®¡ç”Ÿæˆä¸­é—´çš„éšæœºæ•°ï¼Œå¦ä¸€åŠçš„æ¦‚ç‡è®¾è®¡ç”Ÿæˆé è¿‘è¾¹ç•Œçš„éšæœºæ•°

```python
grf = [0] * 32  # æ¨¡æ‹Ÿå¯„å­˜å™¨æ–‡ä»¶
dm = [0] * 10000  # æ¨¡æ‹Ÿå†…å­˜
generated_labels = set()
```

```python
def random_reg() -> int:
    """ç”Ÿæˆ0åˆ°31ä¹‹é—´çš„éšæœºå¯„å­˜å™¨ç¼–å·"""
    return random.randint(0, 31)


def random_imm() -> int:
    """ç”Ÿæˆ0åˆ°65535ä¹‹é—´çš„æ— ç¬¦å·16ä½éšæœºç«‹å³æ•°"""
    boundary_values = [0, 1, 2, 65534, 65533, 65535]
    if random.random() < 0.5:  # 50% æ¦‚ç‡ç”Ÿæˆè¾¹ç•Œå€¼
        return random.choice(boundary_values)
    return random.randint(0, 65535)
```

```python
def add() -> str:
    """ç”ŸæˆaddæŒ‡ä»¤"""
    rs, rt, rd = random_reg(), random_reg(), random_reg()
    result = grf[rt] + grf[rd]
    if -2147483648 <= result <= 2147483647:
        grf[rs] = result
        return f"add ${rs},${rt},${rd}"
    else:
        grf[rt] = 0 | 1000
        grf[rd] = 0 | 1000
        return f"ori ${rt},$0,1000\n" f"ori ${rd},$0,1000"


def sub() -> str:
    """ç”ŸæˆsubæŒ‡ä»¤"""
    rs, rt, rd = random_reg(), random_reg(), random_reg()
    result = grf[rt] - grf[rd]
    if -2147483648 <= result <= 2147483647:
        grf[rs] = result
        return f"sub ${rs},${rt},${rd}"
    else:
        grf[rt] = 0 | 1000
        grf[rd] = 0 | 1000
        return f"ori ${rt},$0,1000\n" f"ori ${rd},$0,1000"


def ori() -> str:
    """ç”ŸæˆoriæŒ‡ä»¤"""
    rs, rt, imm = random_reg(), random_reg(), random_imm()
    grf[rs] = grf[rt] | imm
    return f"ori ${rs},${rt},{imm}"


def nop() -> str:
    """ç”ŸæˆnopæŒ‡ä»¤"""
    return "nop"


def lui() -> str:
    """ç”ŸæˆluiæŒ‡ä»¤"""
    rt = random_reg()
    imm = random_imm()
    grf[rt] = imm << 16
    return f"lui ${rt},{imm}"


def lw() -> str:
    """ç”Ÿæˆ lw æŒ‡ä»¤ï¼Œç¡®ä¿åœ°å€æ˜¯4çš„å€æ•°"""
    rt, base = random_reg(), random_reg()
    offset = random.randint(0, 750) * 4

    legal_base = random.randint(0, (3000 - offset) // 4) * 4
    grf[base] = legal_base

    grf[rt] = dm[grf[base] + offset]
    return f"ori ${base}, $0, {legal_base}\n" f"lw ${rt}, {offset}(${base})"


def sw() -> str:
    """ç”Ÿæˆ sw æŒ‡ä»¤ï¼Œç¡®ä¿åœ°å€æ˜¯4çš„å€æ•°"""
    rt, base = random_reg(), random_reg()
    offset = random.randint(0, 750) * 4

    legal_base = random.randint(0, (3000 - offset) // 4) * 4
    grf[base] = legal_base

    dm[grf[base] + offset] = grf[rt]
    return f"ori ${base}, $0, {legal_base}\n" f"sw ${rt}, {offset}(${base})"


def beq() -> List[Union[str, List[str]]]:
    """ç”ŸæˆbeqæŒ‡ä»¤åŠåç»­æŒ‡ä»¤"""
    rs, rt = random_reg(), random_reg()
    label = "".join(random.choices(string.ascii_letters, k=5))
    while label in generated_labels:
        label = "".join(random.choices(string.ascii_letters, k=5))
    generated_labels.add(label)

    beq_string = [f"beq ${rs},${rt},{label}"]
    beq_string.extend(
        [
            add(),
            sub(),
            ori(),
            sw(),
            lw(),
            lui(),
            f"{label}:",
            add(),
            sub(),
            ori(),
            sw(),
            lw(),
            lui(),
        ]
    )
    return beq_string
```

```python
def initial_reg() -> List[str]:
    """åˆå§‹åŒ–æ‰€æœ‰å¯„å­˜å™¨ä¸ä¸º0"""
    init_string = [f"ori ${i},$0,{random_imm()}" for i in range(1, 32)]
    return init_string


def generate_test_cases(num_cases: int = 10) -> List[Union[str, List[str]]]:
    """ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹"""
    instructions = [add, sub, ori, lw, sw, lui, nop, beq]
    test_cases = initial_reg()

    for _ in tqdm.tqdm(range(num_cases), desc="Generating test cases"):
        instruction = random.choice(instructions)
        if instruction == beq:
            test_cases.extend(instruction())
        else:
            test_cases.append(instruction())

    return test_cases
```

#### è°ƒç”¨logisimè¿›è¡Œæµ‹è¯•

åœ¨å°†éšæœºç”Ÿæˆçš„MIPSæŒ‡ä»¤æ”¾å…¥MARSç”Ÿæˆ16è¿›åˆ¶ç¼–ç åï¼Œä¾¿å¯ä»¥è°ƒç”¨logisimç”ŸæˆCPUè¿è¡Œçš„ç»“æœäº†

```python
import os
import re


print("æ·»åŠ æŒ‡ä»¤è‡³å•å‘¨æœŸcpuä¸­" + "\n")
content = open("test.txt").read()
mymem = open("å•å‘¨æœŸcpu.circ", encoding="utf-8").read()
mymem = re.sub(
    r"addr/data: 12 32([\s\S]*?)</a>", "addr/data: 12 32\n" + content + "</a>", mymem
)
with open("å•å‘¨æœŸcpué•œåƒ.circ", "w", encoding="utf-8") as file:
    file.write(mymem)


print("è¿è¡Œå•å‘¨æœŸcpuä¸­" + "\n")
command = "java -jar logisim-generic-2.7.1.jar å•å‘¨æœŸcpué•œåƒ.circ -tty table > å•å‘¨æœŸcpuç»“æœ.txt"
os.system(command)
```

<u>æ³¨æ„è¿™é‡Œçš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ç«¯å£ä½æ•°éœ€è¦æ ¹æ®ä½ è‡ªå·±çš„CPUè¿›è¡Œè°ƒæ•´</u>

è¿è¡Œä¸€æ®µæ—¶é—´åå¯ä»¥æ‰‹åŠ¨ä¸­æ–­ç¨‹åºï¼ˆå¦‚æœæ²¡åŠ å…¥ `halt` çš„è¯ï¼‰

### æ€è€ƒé¢˜

1. ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†é€šè¿‡ FSM ç†è§£å•å‘¨æœŸ CPU çš„åŸºæœ¬æ–¹æ³•ã€‚è¯·å¤§å®¶æŒ‡å‡ºå•å‘¨æœŸ CPU æ‰€ç”¨åˆ°çš„æ¨¡å—ä¸­ï¼Œå“ªäº›å‘æŒ¥çŠ¶æ€å­˜å‚¨åŠŸèƒ½ï¼Œå“ªäº›å‘æŒ¥çŠ¶æ€è½¬ç§»åŠŸèƒ½ã€‚

   > çŠ¶æ€å­˜å‚¨æ¨¡å—ï¼šRFã€PCã€DMã€IM
   >
   > çŠ¶æ€è½¬ç§»æ¨¡å—ï¼šALUã€Controlã€NPCã€EXT

2. ç°åœ¨æˆ‘ä»¬çš„æ¨¡å—ä¸­ IM ä½¿ç”¨ ROMï¼Œ DM ä½¿ç”¨ RAMï¼Œ GRF ä½¿ç”¨ Registerï¼Œè¿™ç§åšæ³•åˆç†å—ï¼Ÿ è¯·ç»™å‡ºåˆ†æï¼Œè‹¥æœ‰æ”¹è¿›æ„è§ä¹Ÿè¯·ä¸€å¹¶ç»™å‡ºã€‚

   > æˆ‘è®¤ä¸ºå¯¹äºè¿™æ ·çš„ç®€å•å®ç°æ˜¯åˆç†çš„ï¼ŒGRFéœ€è¦é«˜é€Ÿè¯»å–ï¼Œä½¿ç”¨å¯„å­˜å™¨ï¼Œä½†æ˜¯ï¼Œå’Œç°ä»£è®¡ç®—æœºä¸åŒçš„æ˜¯ï¼Œç°åœ¨è®¡ç®—æœºCPUä¸­IMå’ŒDMéƒ½æ˜¯å…±ç”¨çš„ä¸€ä¸ªRAMï¼Œ**å› ä¸ºæœ‰åŠ¨æ€åŠ è½½å’Œä¿®æ”¹ç¨‹åºçš„æŒ‡ä»¤çš„éœ€æ±‚**ï¼Œæ‰€ä»¥å•å•åªä½¿ç”¨ROMæ˜¯ä¸åˆé€‚çš„

3. åœ¨ä¸Šè¿°æç¤ºçš„æ¨¡å—ä¹‹å¤–ï¼Œä½ æ˜¯å¦åœ¨å®é™…å®ç°æ—¶è®¾è®¡äº†å…¶ä»–çš„æ¨¡å—ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œè¯·ç»™å‡ºä»‹ç»å’Œè®¾è®¡çš„æ€è·¯ã€‚

   > æ— 

4. äº‹å®ä¸Šï¼Œå®ç° nop ç©ºæŒ‡ä»¤ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦å°†å®ƒåŠ å…¥æ§åˆ¶ä¿¡å·çœŸå€¼è¡¨ï¼Œä¸ºä»€ä¹ˆï¼Ÿ

   > å› ä¸º `nop` æŒ‡ä»¤æœ¬è´¨ä¸Šå¯¹åº”çš„æ˜¯ `sll $0, $0, 0`ï¼Œå¯¹äºå¯„å­˜å™¨å †å’Œå†…å­˜å †ä¸­çš„ä»»ä½•å€¼éƒ½ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥å¯ä»¥å¿½ç•¥

5. é˜…è¯» Pre çš„ â€œMIPS æŒ‡ä»¤é›†åŠæ±‡ç¼–è¯­è¨€â€ ä¸€èŠ‚ä¸­ç»™å‡ºçš„æµ‹è¯•æ ·ä¾‹ï¼Œè¯„ä»·å…¶å¼ºåº¦ï¼ˆå¯ä»å„ä¸ªæŒ‡ä»¤çš„è¦†ç›–æƒ…å†µï¼Œå•ä¸€æŒ‡ä»¤å„ç§è¡Œä¸ºçš„è¦†ç›–æƒ…å†µç­‰æ–¹é¢åˆ†æï¼‰ï¼Œå¹¶æŒ‡å‡ºå…·ä½“çš„ä¸è¶³ä¹‹å¤„ã€‚

   > æ²¡æœ‰å¯¹è¾¹ç•Œæƒ…å†µè¿›è¡Œè¯¦ç»†çš„è€ƒè™‘ï¼š65533,65534,65535âˆ’2,âˆ’1,0,1,2
   >
   > `sw` å’Œ `lw` æ²¡æœ‰è€ƒè™‘offsetä¸ºè´Ÿæ•°çš„æƒ…å†µ
   >
   > ç‰¹åˆ«çš„ï¼Œå¯¹äº `lw` æŒ‡ä»¤ï¼Œå¯æ³¨æ„æµ‹è¯•ç›®æ ‡å¯„å­˜å™¨æ˜¯ `$0` çš„æƒ…å†µ
   >
   > `beq` æŒ‡ä»¤ä¸ä»…è¦æµ‹è¯•è·³è½¬åˆ°åé¢æ ‡ç­¾çš„æƒ…å†µï¼Œè¿˜è¦æµ‹è¯•è·³è½¬åˆ°å‰é¢å’Œè·³è½¬åˆ°å½“å‰æŒ‡ä»¤çš„æƒ…å†µ